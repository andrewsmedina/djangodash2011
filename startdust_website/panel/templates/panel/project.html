{% extends "panel/base.html" %}

{% block flot %}
    <!--[if lte IE 8]>
        <script language="javascript" type="text/javascript" src="/static/js/excanvas.min.js"></script>
    <![endif]-->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.js" type="text/javascript"></script>
    <script src="/static/js/jquery.flot.js" type="text/javascript" language="javascript"></script>
    <script>
        $(function () {
            var request = [[1, 3], [3, 5], [4, 5.6], [8, 6], [10, 6.1], [11, 8], [15, 8.9], [16, 10.2], [17, 13]];       
            $.plot($("#placeholder"), [ request ]);
        });
    </script>
{% endblock %}

{% block content %}
    <div class="container">
        <div class="projects project">
            <h2>{{ project.name }}</h2>
            <p><span>URL: </span><a href="{{ project.url }}" target="_blank">{{ project.url }}</a></p>
            <div class="line"></div>
            <p>Average request time (request/minute)</p>
            <div id="placeholder" class="graph"></div>
            <div class="line"></div>
            {% if project.response_set.all %}
                <p>responses:</p>
                <ul>
                    {% for response in project.response_set.all %}
                        <li>{{ response.url }} - {{ response.time}}</li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>0 responses</p>
            {% endif %}
            
            {% if project.error_set.all %}
                <p><span>Errors:</span></p>
                <ul>
                    {% for error in  project.error_set.all %}
                        <li>{{ error.exception }} - {{ error.date}}</li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>0 errors<p>
            {% endif %}
        </div>
    </div>
    <div class="container">
        
    </div>
{% endblock %}
